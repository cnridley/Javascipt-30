<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS and CSS Clock</title>

<link rel="stylesheet" href="../css/css_variables.css">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>
    <header><a href="../index.html">CSS Variables & JS</a></header>
    <p class="desc">Altering CSS with with JS</p>

    <div class="controls">
    <label for="spacing">Spacing:</label>
    <input id="spacing" type="range" name="spacing" min="10" max="200" value="10" data-sizing="px">

    <label for="blur">Blur:</label>
    <input id="blur" type="range" name="blur" min="0" max="25" value="10" data-sizing="px">

    <label for="base">Base Color</label>
    <input id="base" type="color" name="base" value="#ffc600">
  </div>

    <div class="container-fluid row image">   
        <img src="../css_variables/media/Chloe.jpg" width="400" height="300" alt="C-squared image">
    </div> 
    <script>
        const inputs = document.querySelectorAll('.controls input'); // selects all inputs on the page.

        function handleUpdate(){
            //dataset collects all attributes with data- in them and returns an object
            const suffix = this.dataset.sizing || ''; //collects the px data-set 
            //next update the actually variable, do this by selecting the :root variable in CSS using the .documentElement.
            //this.name is from the input attribute
            //this.value is also from the unout attribute
            document.documentElement.style.setProperty(`--${this.name}`, this.value + suffix);
        }
//loops over each item in the inputs const and listens for a change event and then triggers handleUpdate function.
        inputs.forEach(input => input.addEventListener('change', handleUpdate)); 
        // listen for the mousemove event to trigger the handleUpdate 
        inputs.forEach(input => input.addEventListener('mousemove', handleUpdate));

    </script>
</body>